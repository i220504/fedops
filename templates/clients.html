{% extends "base.html" %}
{% set active_page = "clients" %}

{% block content %}
<!-- KPI Summary Card -->
<div id="kpi-summary" class="kpi-card shadow-sm rounded-4 p-4 mb-4 d-none">
    <div class="row text-center">
        <div class="col">
            <h3 id="kpi-total-clients" class="fw-bold mb-0">0</h3>
            <p class="text-muted">Clients Participated</p>
        </div>
        <div class="col">
            <h3 id="kpi-total-samples" class="fw-bold mb-0">0</h3>
            <p class="text-muted">Total Samples</p>
        </div>
        <div class="col">
            <h3 id="kpi-largest-client" class="fw-bold mb-0">0</h3>
            <p class="text-muted">Top Contributor</p>
        </div>
    </div>
</div>

<div class="container mt-4">

    <h2 class="fw-bold mb-3 text-center">Client Data Distribution</h2>

    <p class="text-muted text-center mb-4">
        Visual overview of how training data is distributed across clients.
        Useful for detecting imbalance and skew.
    </p>

    <!-- Loading -->
    <div id="dist-loading" class="text-center py-5">
        <div class="spinner-border text-primary"></div>
        <p class="mt-3 text-muted">Loading distribution data...</p>
    </div>

    <!-- Empty -->
    <div id="dist-empty" class="alert alert-warning d-none text-center">
        No distribution data available.
    </div>

    <!-- Chart Box -->
    <div id="dist-card" class="card shadow-lg border-0 rounded-4 p-4 d-none"
         style="max-width: 700px; margin: 0 auto;">
        
        <div class="chart-container" 
             style="position: relative; height: 420px; width: 420px; margin: 0 auto;">
            <canvas id="dataDistChart"></canvas>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/clients.js') }}"></script>
{% endblock %}
